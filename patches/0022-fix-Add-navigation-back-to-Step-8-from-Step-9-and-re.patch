From a28717f799bd9d55eb41475b21678ad9bca3ea90 Mon Sep 17 00:00:00 2001
From: SusumuTakano <genspark_dev@genspark.ai>
Date: Sat, 20 Dec 2025 14:15:16 +0000
Subject: [PATCH 22/26] fix: Add navigation back to Step 8 from Step 9 and
 restore running icon
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

- Add 'â† æˆ»ã‚‹: ã‚¹ãƒ†ãƒƒãƒ—8ï¼ˆå‹•ç”»ç¢ºèªï¼‰' button in Step 9 to allow returning to Step 8
- User can now view video anytime after reaching results screen
- Restore running person icon (ğŸƒâ€â™‚ï¸) in title with prominent styling
- Icon uses gradient animation for visibility
- Fixes navigation issue where users were stuck in Step 9
---
 src/App.tsx | 139 +++++++++++++++++++++++++++++++---------------------
 1 file changed, 82 insertions(+), 57 deletions(-)

diff --git a/src/App.tsx b/src/App.tsx
index 36f789d..71ad408 100644
--- a/src/App.tsx
+++ b/src/App.tsx
@@ -10785,58 +10785,71 @@ case 6: {
                   ğŸ”„ æ¤œå‡ºãƒ¢ãƒ¼ãƒ‰ã‚’ã‚„ã‚Šç›´ã™
                 </button>
               </div>
-              <button
-                className="wizard-btn danger"
-                onClick={() => {
-                  if (
-                    window.confirm(
-                      "æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã—ã¾ã™ã‹ï¼Ÿç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã¯ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€‚"
-                    )
-                  ) {
-                    // ãƒªã‚»ãƒƒãƒˆå‡¦ç†
-                    if (videoUrl) URL.revokeObjectURL(videoUrl);
-                    setVideoUrl(null);
-                    setVideoFile(null);
-                    framesRef.current = [];
-                    setFramesCount(0);
-                    setCurrentFrame(0);
-                    setExtractProgress(0);
-                    setIsExtracting(false);
-                    setUsedTargetFps(null);
-                    setSectionStartFrame(null);
-                    setSectionMidFrame(null);
-                    setSectionEndFrame(null);
-                    setStartLineOffset(0);
-                    setMidLineOffset(0);
-                    setEndLineOffset(0);
-                    setSavedStartHipX(null);
-                    setSavedMidHipX(null);
-                    setSavedEndHipX(null);
-                    setManualContactFrames([]);
-                    setAutoToeOffFrames([]);
-                    setCalibrationMode(0);
-                    setToeOffThreshold(null);
-                    setBaseThreshold(null);
-                    setPoseResults([]);
-                    setStatus("");
-                    setWizardStep(0);
-                    setDistanceInput("10");
-                    setLabelInput("");
-                    setNotesInput("");
-                    setAthleteInfo({
-                      name: '',
-                      age: null,
-                      gender: null,
-                      affiliation: '',
-                      height_cm: null,
-                      current_record: '',
-                      target_record: '',
-                    });
-                  }
-                }}
-              >
-                æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™
-              </button>
+              <div style={{ display: 'flex', gap: '12px', justifyContent: 'space-between', width: '100%' }}>
+                <button
+                  className="wizard-btn secondary"
+                  onClick={() => setWizardStep(7)}
+                  style={{
+                    background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',
+                    border: 'none',
+                    boxShadow: '0 4px 12px rgba(59, 130, 246, 0.4)'
+                  }}
+                >
+                  â† æˆ»ã‚‹: ã‚¹ãƒ†ãƒƒãƒ—8ï¼ˆå‹•ç”»ç¢ºèªï¼‰
+                </button>
+                <button
+                  className="wizard-btn danger"
+                  onClick={() => {
+                    if (
+                      window.confirm(
+                        "æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã—ã¾ã™ã‹ï¼Ÿç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã¯ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€‚"
+                      )
+                    ) {
+                      // ãƒªã‚»ãƒƒãƒˆå‡¦ç†
+                      if (videoUrl) URL.revokeObjectURL(videoUrl);
+                      setVideoUrl(null);
+                      setVideoFile(null);
+                      framesRef.current = [];
+                      setFramesCount(0);
+                      setCurrentFrame(0);
+                      setExtractProgress(0);
+                      setIsExtracting(false);
+                      setUsedTargetFps(null);
+                      setSectionStartFrame(null);
+                      setSectionMidFrame(null);
+                      setSectionEndFrame(null);
+                      setStartLineOffset(0);
+                      setMidLineOffset(0);
+                      setEndLineOffset(0);
+                      setSavedStartHipX(null);
+                      setSavedMidHipX(null);
+                      setSavedEndHipX(null);
+                      setManualContactFrames([]);
+                      setAutoToeOffFrames([]);
+                      setCalibrationMode(0);
+                      setToeOffThreshold(null);
+                      setBaseThreshold(null);
+                      setPoseResults([]);
+                      setStatus("");
+                      setWizardStep(0);
+                      setDistanceInput("10");
+                      setLabelInput("");
+                      setNotesInput("");
+                      setAthleteInfo({
+                        name: '',
+                        age: null,
+                        gender: null,
+                        affiliation: '',
+                        height_cm: null,
+                        current_record: '',
+                        target_record: '',
+                      });
+                    }
+                  }}
+                >
+                  æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™
+                </button>
+              </div>
             </div>
           </div>
         );
@@ -11096,11 +11109,23 @@ case 6: {
           }}
         >
           {/* å·¦å´ï¼šã‚¿ã‚¤ãƒˆãƒ« */}
-          <div>
-            <h1 className="app-title-new">ğŸƒ Running Analysis Studio</h1>
-            <p className="app-subtitle-new">
-              ãƒ•ãƒ¬ãƒ¼ãƒ æŠ½å‡ºãƒ»å§¿å‹¢æ¨å®šãƒ»é–¢ç¯€è§’åº¦ã¨ã‚¹ãƒ†ãƒƒãƒ—æŒ‡æ¨™ã‚’ä¸€æ‹¬è§£æ
-            </p>
+          <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>
+            <div style={{
+              fontSize: '3rem',
+              background: 'linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%)',
+              WebkitBackgroundClip: 'text',
+              WebkitTextFillColor: 'transparent',
+              backgroundClip: 'text',
+              animation: 'pulse 2s ease-in-out infinite'
+            }}>
+              ğŸƒâ€â™‚ï¸
+            </div>
+            <div>
+              <h1 className="app-title-new">Running Analysis Studio</h1>
+              <p className="app-subtitle-new">
+                ãƒ•ãƒ¬ãƒ¼ãƒ æŠ½å‡ºãƒ»å§¿å‹¢æ¨å®šãƒ»é–¢ç¯€è§’åº¦ã¨ã‚¹ãƒ†ãƒƒãƒ—æŒ‡æ¨™ã‚’ä¸€æ‹¬è§£æ
+              </p>
+            </div>
           </div>
 
           {/* å³å´ï¼šãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ï¼‹æ–°ã—ã„è§£æãƒœã‚¿ãƒ³ï¼‹ãƒ¦ãƒ¼ã‚¶ãƒ¼å */}
-- 
2.39.5

