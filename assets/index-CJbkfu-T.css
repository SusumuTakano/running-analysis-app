:root{--primary: #2563eb;--primary-dark: #1d4ed8;--primary-light: #3b82f6;--success: #10b981;--gray-50: #f9fafb;--gray-100: #f3f4f6;--gray-200: #e5e7eb;--gray-300: #d1d5db;--gray-400: #9ca3af;--gray-500: #6b7280;--gray-600: #4b5563;--gray-700: #374151;--gray-800: #1f2937;--gray-900: #111827;--shadow: 0 1px 3px rgba(0, 0, 0, .1);--shadow-md: 0 4px 6px rgba(0, 0, 0, .1);--shadow-lg: 0 10px 15px rgba(0, 0, 0, .1);--shadow-xl: 0 20px 25px rgba(0, 0, 0, .1);--radius: 12px;--radius-lg: 16px;--transition: all .2s ease}*{box-sizing:border-box;margin:0;padding:0}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;color:var(--gray-900);line-height:1.6;overflow-y:auto;-webkit-overflow-scrolling:touch;position:relative;overscroll-behavior-y:contain}.app-container{max-width:1200px;margin:0 auto;padding:20px;overflow-y:auto;overflow-x:hidden;position:relative}.app-header-new{text-align:center;margin-bottom:32px;color:#fff}.app-title-new{font-size:2.5rem;font-weight:700;margin-bottom:8px;text-shadow:0 2px 4px rgba(0,0,0,.2)}.app-subtitle-new{font-size:1rem;opacity:.9}@media (max-width: 768px){.app-header-new{position:fixed!important;top:0!important;left:0!important;right:0!important;z-index:1001!important;background:#667eeaf2!important;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:8px 12px!important;margin:0!important;box-shadow:0 2px 8px #0000004d}.app-title-new{font-size:1rem!important;margin:0!important;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.3)}.app-subtitle-new{display:none!important}.wizard-content.step-6 .canvas-area{top:42px!important}.wizard-content.step-6 .section-settings{margin-top:calc(122px + min(56.25vw,50vh))!important}.wizard-content.step-6 .marker-controls{margin-top:calc(152px + min(56.25vw,50vh))!important}}.step-progress{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;padding:20px 32px;background:#fff;border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);position:relative}.step-progress:before{content:"";position:absolute;top:50%;left:60px;right:60px;height:2px;background:var(--gray-200);z-index:0}.step-item{display:flex;flex-direction:column;align-items:center;gap:8px;position:relative;z-index:1}.step-circle{width:40px;height:40px;border-radius:50%;background:#fff;border:2px solid var(--gray-300);display:flex;align-items:center;justify-content:center;font-weight:600;color:var(--gray-500);transition:var(--transition)}.step-item.active .step-circle{background:var(--primary);border-color:var(--primary);color:#fff;transform:scale(1.1);box-shadow:0 0 0 4px #2563eb33}.step-item.completed .step-circle{background:var(--success);border-color:var(--success);color:#fff}.step-item.completed .step-circle:before{content:"âœ“"}.step-name{font-size:.75rem;font-weight:500;color:var(--gray-600);white-space:nowrap}.step-item.active .step-name{color:var(--primary);font-weight:600}.step-item.completed .step-name{color:var(--success)}.wizard-main{background:#fff;border-radius:var(--radius-lg);box-shadow:var(--shadow-xl);padding:40px;min-height:500px}.wizard-content{max-width:900px;margin:0 auto}.wizard-step-header{text-align:center;margin-bottom:32px}.wizard-step-title{font-size:1.75rem;font-weight:700;color:var(--gray-900);margin-bottom:8px}.wizard-step-desc{font-size:.95rem;color:var(--gray-600);line-height:1.5}.wizard-step-desc small{display:block;margin-top:8px;font-size:.85rem;color:var(--gray-500)}.upload-area{margin-bottom:32px}.upload-box{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;padding:48px 32px;border:2px dashed var(--gray-300);border-radius:var(--radius-lg);background:var(--gray-50);cursor:pointer;transition:var(--transition)}.upload-box:hover{border-color:var(--primary);background:#2563eb0d}.upload-icon{font-size:3rem}.upload-text{display:flex;flex-direction:column;align-items:center;gap:4px}.upload-text strong{font-size:1rem;color:var(--gray-900)}.upload-text span{font-size:.85rem;color:var(--gray-500)}.input-group{display:flex;flex-direction:column;gap:20px;margin-bottom:32px}.input-label{display:flex;flex-direction:column;gap:6px}.label-text{font-size:.9rem;font-weight:600;color:var(--gray-700)}.input-field,.textarea-field{padding:12px 16px;border:1px solid var(--gray-300);border-radius:var(--radius);font-size:.95rem;transition:var(--transition);font-family:inherit}.input-field:focus,.textarea-field:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #2563eb1a}.textarea-field{resize:vertical;min-height:80px}.progress-area{display:flex;flex-direction:column;align-items:center;gap:24px;padding:48px 0}.progress-circle{position:relative;width:200px;height:200px}.progress-ring{width:100%;height:100%;transform:rotate(-90deg)}.progress-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2.5rem;font-weight:700;color:var(--primary)}.progress-status{font-size:1rem;color:var(--gray-600);text-align:center}.canvas-area{margin-bottom:20px;border-radius:var(--radius);overflow:hidden;background:#000;box-shadow:var(--shadow-md)}@media (min-width: 769px){.wizard-step-5 .canvas-area,.wizard-step-6 .canvas-area{position:fixed!important;top:80px!important;left:0;right:0;width:100vw!important;max-width:100vw!important;z-index:9999!important;margin:0!important;padding:0!important;pointer-events:auto}.wizard-step-5 .wizard-content,.wizard-step-6 .wizard-content{padding-top:calc(70vh + 40px)}}.preview-canvas{display:block;width:100%;height:auto;max-height:80vh}.frame-control{margin-bottom:24px}.frame-info{font-size:.9rem;color:var(--gray-600);margin-bottom:8px;text-align:center}.frame-range{width:100%;height:6px;border-radius:3px;background:var(--gray-200);outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;margin-bottom:12px;touch-action:pan-x}.frame-range::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:var(--primary);cursor:pointer;box-shadow:0 2px 4px #0003}.frame-range::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--primary);cursor:pointer;border:none;box-shadow:0 2px 4px #0003}.section-slider{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:10px;border-radius:5px;background:linear-gradient(to right,var(--gray-200),var(--gray-300));outline:none;cursor:pointer;transition:var(--transition)}.section-slider:hover{background:linear-gradient(to right,var(--gray-300),var(--gray-400))}.section-slider.start-slider{background:linear-gradient(to right,#d1fae5,#10b981)}.section-slider.start-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:24px;height:24px;border-radius:50%;background:#10b981;cursor:pointer;box-shadow:0 2px 6px #10b98166;border:3px solid white;-webkit-transition:var(--transition);transition:var(--transition)}.section-slider.start-slider::-webkit-slider-thumb:hover{transform:scale(1.1);box-shadow:0 3px 8px #10b98180}.section-slider.start-slider::-moz-range-thumb{width:24px;height:24px;border-radius:50%;background:#10b981;cursor:pointer;box-shadow:0 2px 6px #10b98166;border:3px solid white}.section-slider.end-slider{background:linear-gradient(to right,#fecaca,#ef4444)}.section-slider.end-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:24px;height:24px;border-radius:50%;background:#ef4444;cursor:pointer;box-shadow:0 2px 6px #ef444466;border:3px solid white;-webkit-transition:var(--transition);transition:var(--transition)}.section-slider.end-slider::-webkit-slider-thumb:hover{transform:scale(1.1);box-shadow:0 3px 8px #ef444480}.section-slider.end-slider::-moz-range-thumb{width:24px;height:24px;border-radius:50%;background:#ef4444;cursor:pointer;box-shadow:0 2px 6px #ef444466;border:3px solid white}.section-slider.mid-slider{background:linear-gradient(to right,#dbeafe,#2563eb)}.section-slider.mid-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:24px;height:24px;border-radius:50%;background:#2563eb;cursor:pointer;box-shadow:0 2px 6px #2563eb66;border:3px solid white;-webkit-transition:var(--transition);transition:var(--transition)}.section-slider.mid-slider::-webkit-slider-thumb:hover{transform:scale(1.1);box-shadow:0 3px 8px #2563eb80}.section-slider.mid-slider::-moz-range-thumb{width:24px;height:24px;border-radius:50%;background:#2563eb;cursor:pointer;box-shadow:0 2px 6px #2563eb66;border:3px solid white}.frame-buttons-compact{display:flex;justify-content:center;gap:8px}.frame-buttons-compact button{padding:6px 12px;border:1px solid var(--gray-300);border-radius:var(--radius);background:#fff;font-size:.85rem;cursor:pointer;transition:var(--transition)}.frame-buttons-compact button:hover:not(:disabled){background:var(--gray-50);border-color:var(--primary)}.frame-buttons-compact button:disabled{opacity:.5;cursor:not-allowed}.section-settings{display:flex;flex-direction:column;gap:16px;padding:20px;background:var(--gray-50);border-radius:var(--radius);margin-bottom:24px}.section-markers-info{padding:12px;background:#2563eb1a;border-left:3px solid var(--primary);border-radius:6px}.info-text{margin:0;font-size:.85rem;color:var(--gray-700)}.section-item{display:flex;justify-content:space-between;align-items:center;gap:16px;padding:12px;background:#fff;border-radius:var(--radius);border:1px solid var(--gray-200)}.section-label{display:flex;align-items:center;gap:12px;font-size:.9rem;color:var(--gray-700)}.marker-badge{padding:4px 10px;border-radius:999px;font-size:.75rem;font-weight:600;color:#fff}.marker-badge.start{background:#10b981}.marker-badge.mid{background:#f59e0b}.marker-badge.end{background:#ef4444}.section-actions{display:flex;gap:8px;align-items:center}.section-summary{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;padding:16px;background:#fff;border-radius:var(--radius);border:1px solid var(--gray-200);font-size:.9rem;color:var(--gray-700)}.line-adjust-control{padding:12px;background:#3b82f60d;border-left:3px solid var(--primary);border-radius:6px;margin-top:-8px}.adjust-label{display:flex;flex-direction:column;gap:8px;font-size:.85rem;color:var(--gray-700)}.adjust-slider-container{display:flex;align-items:center;gap:8px}.adjust-btn{width:32px;height:32px;border:1px solid var(--gray-300);border-radius:6px;background:#fff;cursor:pointer;transition:var(--transition);display:flex;align-items:center;justify-content:center;font-size:.9rem}.adjust-btn:hover{background:var(--gray-50);border-color:var(--primary)}.adjust-slider{flex:1;height:6px;border-radius:3px;background:var(--gray-200);outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer}.adjust-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;border-radius:50%;background:var(--primary);cursor:pointer;box-shadow:0 2px 4px #0003}.adjust-slider::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:var(--primary);cursor:pointer;border:none;box-shadow:0 2px 4px #0003}.adjust-value{min-width:50px;text-align:center;font-size:.85rem;font-weight:600;color:var(--primary)}.adjust-reset{padding:6px 12px;border:1px solid var(--gray-300);border-radius:6px;background:#fff;font-size:.75rem;cursor:pointer;transition:var(--transition)}.adjust-reset:hover{background:var(--gray-100)}.marker-controls{display:flex;flex-wrap:wrap;gap:12px;align-items:center;margin-bottom:16px;padding:12px;background:var(--gray-50);border-radius:var(--radius)}.toggle-btn{padding:8px 16px;border:1px solid var(--gray-300);border-radius:var(--radius);background:#fff;font-size:.85rem;cursor:pointer;transition:var(--transition)}.toggle-btn:hover{background:var(--gray-50)}.toggle-btn.active{background:var(--primary);border-color:var(--primary);color:#fff}.toggle-btn:disabled{opacity:.5;cursor:not-allowed}.zoom-control{display:flex;align-items:center;gap:8px;font-size:.85rem;color:var(--gray-700)}.zoom-control input[type=range]{width:100px}.btn-ghost-small{padding:6px 12px;border:1px solid var(--gray-300);border-radius:var(--radius);background:#fff;font-size:.8rem;cursor:pointer;transition:var(--transition)}.btn-ghost-small:hover{background:var(--gray-100)}.angle-display-compact{padding:16px;background:var(--gray-50);border-radius:var(--radius);margin-bottom:24px}.angle-display-compact h4{font-size:.9rem;font-weight:600;color:var(--gray-700);margin-bottom:12px}.angle-grid-compact{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;font-size:.85rem;color:var(--gray-700)}.result-viewer-card{margin-bottom:24px;padding:20px;background:var(--gray-50);border-radius:var(--radius-lg);box-shadow:var(--shadow)}.viewer-controls{display:flex;flex-wrap:wrap;gap:12px;align-items:center;margin-bottom:16px;padding:12px;background:#fff;border-radius:var(--radius)}.angle-display-result{margin-top:16px;padding:16px;background:#fff;border-radius:var(--radius)}.angle-display-result h4{font-size:1rem;font-weight:600;color:var(--gray-800);margin-bottom:16px}.angle-grid-result{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}.angle-item{display:flex;flex-direction:column;gap:4px;padding:12px;background:var(--gray-50);border-radius:var(--radius);border:1px solid var(--gray-200)}.angle-label{font-size:.75rem;color:var(--gray-600);font-weight:500}.angle-value{font-size:1.5rem;font-weight:700;color:var(--primary)}.angle-hint{font-size:.7rem;color:var(--gray-500);font-style:italic}.results-layout{display:flex;flex-direction:column;gap:24px}.result-card{padding:24px;background:var(--gray-50);border-radius:var(--radius-lg);box-shadow:var(--shadow)}.result-card-title{font-size:1.25rem;font-weight:600;color:var(--gray-900);margin-bottom:16px}.metrics-summary{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;margin-bottom:20px}.metric-item{display:flex;flex-direction:column;gap:4px;padding:12px;background:#fff;border-radius:var(--radius);box-shadow:var(--shadow)}.metric-label{font-size:.8rem;color:var(--gray-600)}.metric-value{font-size:1.25rem;font-weight:700;color:var(--primary)}.table-scroll{overflow-x:auto;margin-top:12px}.metrics-table,.phase-table-compact{width:100%;border-collapse:collapse;font-size:.85rem;background:#fff;border-radius:var(--radius);overflow:hidden}.metrics-table th,.metrics-table td,.phase-table-compact th,.phase-table-compact td{padding:10px 12px;text-align:right;border-bottom:1px solid var(--gray-200)}.metrics-table th,.phase-table-compact th{background:var(--gray-100);font-weight:600;color:var(--gray-700);text-align:center}.metrics-table td:first-child,.metrics-table th:first-child,.phase-table-compact td:first-child,.phase-table-compact th:first-child{text-align:left}.metrics-table tr:hover,.phase-table-compact tr:hover{background:var(--gray-50)}.graph-controls-compact{display:flex;flex-direction:column;gap:16px;margin-bottom:20px}.metric-chips-compact{display:flex;flex-wrap:wrap;gap:8px}.metric-chip{padding:6px 14px;border:1px solid var(--gray-300);border-radius:999px;background:#fff;font-size:.8rem;cursor:pointer;transition:var(--transition)}.metric-chip:hover{background:var(--gray-50)}.metric-chip.active{background:var(--primary);border-color:var(--primary);color:#fff}.graph-type-switch{display:flex;gap:8px}.type-btn{flex:1;padding:8px 16px;border:1px solid var(--gray-300);border-radius:var(--radius);background:#fff;font-size:.85rem;cursor:pointer;transition:var(--transition)}.type-btn:hover{background:var(--gray-50)}.type-btn.active{background:var(--primary);border-color:var(--primary);color:#fff}.graph-container{background:#fff;padding:16px;border-radius:var(--radius);box-shadow:var(--shadow);height:300px}.graph-container canvas{max-height:100%}.empty-state{padding:48px 24px;text-align:center;color:var(--gray-500);font-size:.9rem}.action-buttons{display:flex;gap:12px;flex-wrap:wrap}.btn-action{flex:1;padding:12px 20px;border:none;border-radius:var(--radius);background:var(--primary);color:#fff;font-size:.9rem;font-weight:600;cursor:pointer;transition:var(--transition);box-shadow:var(--shadow)}.btn-action:hover:not(:disabled){background:var(--primary-dark);box-shadow:var(--shadow-md);transform:translateY(-1px)}.btn-action:disabled{opacity:.5;cursor:not-allowed}.save-result-msg{margin-top:12px;padding:12px;border-radius:var(--radius);background:var(--gray-100);font-size:.85rem;color:var(--gray-700)}.wizard-actions{display:flex;justify-content:space-between;gap:16px;margin-top:32px;padding-top:24px;border-top:1px solid var(--gray-200)}.btn-primary-large{flex:1;padding:14px 28px;border:none;border-radius:var(--radius-lg);background:var(--primary);color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:var(--transition);box-shadow:var(--shadow-lg)}.btn-primary-large:hover:not(:disabled){background:var(--primary-dark);box-shadow:var(--shadow-xl);transform:translateY(-2px)}.btn-primary-large:disabled{opacity:.5;cursor:not-allowed}.btn-secondary{padding:10px 20px;border:1px solid var(--gray-300);border-radius:var(--radius);background:#fff;font-size:.85rem;cursor:pointer;transition:var(--transition)}.btn-secondary:hover:not(:disabled){background:var(--gray-50);border-color:var(--primary)}.btn-secondary:disabled{opacity:.5;cursor:not-allowed}.btn-ghost{padding:14px 28px;border:1px solid var(--gray-300);border-radius:var(--radius-lg);background:#fff;font-size:.9rem;cursor:pointer;transition:var(--transition)}.btn-ghost:hover{background:var(--gray-50);border-color:var(--gray-400)}@media (max-width: 768px){.app-container{padding:12px}.wizard-main{padding:24px}.app-title-new{font-size:1.75rem}.step-progress{padding:16px}.step-progress:before{left:40px;right:40px}.step-circle{width:32px;height:32px;font-size:.85rem}.step-name{font-size:.65rem}.wizard-step-title{font-size:1.35rem}.section-summary,.metrics-summary{grid-template-columns:1fr}.wizard-actions{flex-direction:column}.btn-ghost{order:2}.btn-primary-large{order:1}}.mobile-marking-controls,.mobile-marker-display,.mobile-view-options,.mobile-only{display:none}.desktop-only{display:inline}@media (max-width: 768px){.mobile-only{display:inline}.desktop-only{display:none}.canvas-area{position:relative!important;width:100%!important;height:auto!important;max-height:none!important;z-index:1!important;background:#000;padding:0!important;margin:0 0 12px!important;box-shadow:0 2px 4px #0000004d;border-radius:8px;overflow:hidden}.wizard-content.step-6 .canvas-area{position:fixed!important;top:42px!important;left:0!important;right:0!important;width:100vw!important;z-index:1000!important;margin:0!important;border-radius:0}.preview-canvas{width:100%!important;height:auto!important;-o-object-fit:contain;object-fit:contain;display:block;margin:0}.frame-control{position:relative!important;top:auto!important;left:auto!important;right:auto!important;z-index:1!important;background:#fffffffa;padding:8px 12px!important;margin:0 0 12px!important;box-shadow:0 1px 3px #0003;border-radius:8px;border:1px solid var(--gray-200)}.wizard-content.step-6 .frame-control{position:fixed!important;top:calc(42px + 45vh)!important;left:0!important;right:0!important;z-index:999!important;margin:0!important;border-radius:0;border:none;border-bottom:1px solid var(--gray-300)}.frame-info{font-size:.65rem!important;padding:0!important;margin:0 0 1px!important;background:transparent!important;text-align:center;font-weight:600;color:var(--gray-700)}.frame-range{height:18px!important;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;background:transparent;margin:0!important}.frame-range::-webkit-slider-track{height:2px;background:var(--gray-300);border-radius:1px}.frame-range::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:18px;height:18px;background:var(--primary);cursor:pointer;border-radius:50%;box-shadow:0 1px 2px #0000004d;margin-top:-8px}.frame-range::-moz-range-track{height:2px;background:var(--gray-300);border-radius:1px}.frame-range::-moz-range-thumb{width:18px;height:18px;background:var(--primary);cursor:pointer;border-radius:50%;box-shadow:0 1px 2px #0000004d;border:none}.frame-buttons-compact{display:none}.mobile-marking-controls{display:flex!important;flex-direction:column;gap:4px;margin-bottom:12px;padding:8px 12px;background:#fffffffa;border-radius:8px;box-shadow:0 1px 3px #0003;position:relative!important;top:auto!important;left:auto!important;right:auto!important;z-index:1!important;border:1px solid var(--gray-200)}.wizard-content.step-6 .mobile-marking-controls{position:fixed!important;top:calc(74px + 45vh)!important;left:0!important;right:0!important;z-index:998!important;margin:0!important;border-radius:0;border:none;border-bottom:1px solid var(--gray-300)}.btn-mark-contact{width:100%;padding:8px;font-size:.85rem;font-weight:600;background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;border-radius:6px;cursor:pointer;box-shadow:0 2px 4px #0003;transition:var(--transition);touch-action:manipulation;-webkit-tap-highlight-color:transparent}.btn-mark-contact:active{transform:scale(.97);box-shadow:0 1px 2px #0003}.btn-mark-contact:disabled{opacity:.5;cursor:not-allowed}.mobile-frame-nav{display:grid;grid-template-columns:repeat(4,1fr);gap:4px}.btn-nav-arrow{padding:6px 2px;font-size:.75rem;font-weight:600;background:#fff;color:var(--primary);border:2px solid var(--primary);border-radius:6px;cursor:pointer;transition:var(--transition);touch-action:manipulation;-webkit-tap-highlight-color:transparent}.btn-nav-arrow:active{background:var(--primary);color:#fff}.btn-nav-arrow:disabled{opacity:.3;cursor:not-allowed}.wizard-content .section-settings{position:relative;margin-top:calc(min(56.25vw,50vh) + 28px)!important;padding:4px 6px!important;z-index:1;gap:6px!important}.wizard-content .marker-controls{position:relative;margin-top:calc(min(56.25vw,50vh) + 60px)!important;padding:4px 6px!important;z-index:1}.wizard-content.step-6 .wizard-step-header{display:none}.wizard-content .wizard-step-header{display:block;padding-top:0}.section-item{padding:6px 8px!important;gap:8px!important;font-size:.8rem!important}.section-label{font-size:.8rem!important;gap:6px!important}.marker-badge{padding:2px 6px!important;font-size:.65rem!important}.section-actions button{padding:4px 8px!important;font-size:.75rem!important}.section-summary{padding:8px!important;gap:8px!important;font-size:.75rem!important}.line-adjust-control{padding:6px!important;margin-top:-4px!important}.adjust-label{font-size:.7rem!important;gap:4px!important}.adjust-btn{width:24px!important;height:24px!important;font-size:.75rem!important}.adjust-slider{height:3px!important}.adjust-slider::-webkit-slider-thumb{width:12px!important;height:12px!important}.adjust-slider::-moz-range-thumb{width:12px!important;height:12px!important}.adjust-value{min-width:35px!important;font-size:.7rem!important}.adjust-reset{padding:3px 6px!important;font-size:.65rem!important}.section-markers-info{padding:6px 8px!important;margin-bottom:6px!important}.info-text{font-size:.75rem!important}.marker-controls{flex-wrap:wrap;gap:6px;background:var(--gray-50);padding:6px!important}.marker-controls button,.marker-controls .toggle-btn{padding:8px 10px;font-size:.85rem;min-height:38px;touch-action:manipulation}.angle-display-compact{padding:8px}.angle-grid-compact{grid-template-columns:1fr;gap:6px}.angle-grid-compact>div{padding:8px;font-size:.85rem}.line-adjust-control{padding:8px;margin-top:-6px}.adjust-label{font-size:.75rem;gap:6px}.adjust-btn{width:28px;height:28px;font-size:.8rem}.adjust-slider{height:4px}.adjust-slider::-webkit-slider-thumb{width:14px;height:14px}.adjust-slider::-moz-range-thumb{width:14px;height:14px}.adjust-value{min-width:40px;font-size:.75rem}.adjust-reset{padding:4px 8px;font-size:.7rem}.section-item{padding:8px;gap:12px}.section-label{font-size:.85rem;gap:8px}.marker-badge{padding:3px 8px;font-size:.7rem}.section-actions button{padding:6px 10px;font-size:.8rem}body{position:relative;overflow-y:auto;overflow-x:hidden;height:auto;min-height:100vh;-webkit-overflow-scrolling:touch}.app-container{overflow-y:visible!important;overflow-x:hidden;height:auto;min-height:auto;-webkit-overflow-scrolling:touch;padding-top:80px!important}.wizard-content{overflow-y:visible!important;overflow-x:hidden;max-height:none;height:auto;-webkit-overflow-scrolling:touch;padding-bottom:120px;padding-top:50px}.wizard-content.step-6{padding-top:calc(192px + min(56.25vw,50vh))!important}.canvas-area canvas{touch-action:pan-y pinch-zoom}button,input[type=range],.btn-mark-contact,.btn-nav-arrow{touch-action:manipulation}.step-progress{padding:8px 12px;margin-bottom:12px}.step-progress:before{left:30px;right:30px}.step-circle{width:28px;height:28px;font-size:.75rem}.step-name{font-size:.6rem}.wizard-main{padding:12px;min-height:auto}.wizard-step-title{font-size:1.1rem;margin-bottom:4px}.wizard-step-desc{font-size:.8rem}.wizard-actions{gap:8px!important;margin-top:16px!important;padding-top:12px!important}.btn-primary-large{padding:10px 16px!important;font-size:.9rem!important}.btn-ghost{padding:10px 16px!important;font-size:.85rem!important}.mobile-marker-display{display:block!important;position:fixed!important;top:calc(132px + min(56.25vw,50vh))!important;left:0!important;right:0!important;z-index:997!important;padding:8px 12px;background:#fffffff2;box-shadow:0 2px 6px #0003}.mobile-view-options{display:flex!important;gap:8px;position:fixed!important;top:calc(212px + min(56.25vw,50vh))!important;left:0!important;right:0!important;z-index:996!important;padding:8px 12px;background:#fffffff2;box-shadow:0 2px 6px #0003}.mobile-view-options .toggle-btn{flex:1;padding:10px;font-size:.85rem;font-weight:600;background:#fff;color:var(--primary);border:2px solid var(--primary);border-radius:8px;cursor:pointer;transition:var(--transition);touch-action:manipulation}.mobile-view-options .toggle-btn.active{background:var(--primary);color:#fff}.mobile-view-options .toggle-btn:disabled{opacity:.3;cursor:not-allowed}.zoom-slider-compact{display:flex;align-items:center;gap:8px;padding:8px 12px;background:#2563eb1a;border-radius:8px;border:1px solid var(--primary)}.zoom-slider-compact input[type=range]{height:4px;border-radius:2px;background:var(--gray-300);outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;touch-action:pan-x}.zoom-slider-compact input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:var(--primary);cursor:pointer;box-shadow:0 2px 4px #0000004d}.zoom-slider-compact input[type=range]::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:var(--primary);cursor:pointer;border:none;box-shadow:0 2px 4px #0000004d}}@media (max-width: 428px){.result-card{padding:12px!important;margin:8px 0!important;border-radius:10px!important}.result-card-title{font-size:1rem!important;margin-bottom:12px!important}.result-card>div:first-of-type>div:first-child{font-size:1.2rem!important}.result-card>div:first-of-type>div:nth-child(2){font-size:.85rem!important;line-height:1.5!important}.result-card>div:first-of-type>div:last-child>div{width:30px!important;height:6px!important}.result-card>div>div{padding:12px!important}.result-card>div>div>div:first-child>div:first-child{font-size:.9rem!important}.result-card>div>div>div:first-child>div:last-child{font-size:.75rem!important}.result-card>div>div>div:last-child{font-size:.75rem!important;padding-left:24px!important}.result-card>div>div>div:first-child>span{font-size:1.2rem!important}.results-layout{display:flex!important;flex-direction:column!important;gap:12px!important}.chart-container{height:200px!important;margin-bottom:12px!important}table{font-size:.7rem!important}table th,table td{padding:6px 4px!important}.section-settings{padding:12px!important}.section-settings label{font-size:.85rem!important}.section-settings input,.section-settings select{font-size:.85rem!important;padding:8px!important}.wizard-step-title{font-size:1.1rem!important}.wizard-step-description{font-size:.8rem!important}.btn-primary-large,.btn-ghost{padding:10px 16px!important;font-size:.85rem!important}.frame-control{padding:4px 8px!important}.frame-control input[type=range]{height:28px!important}.mobile-marking-controls button{padding:8px 10px!important;font-size:.7rem!important;min-width:50px!important}}@media (min-width: 429px) and (max-width: 1024px){.result-card{padding:16px!important;margin:12px 0!important;border-radius:12px!important}.result-card-title{font-size:1.15rem!important;margin-bottom:16px!important}.result-card>div:first-of-type>div:first-child{font-size:1.4rem!important}.result-card>div:first-of-type>div:nth-child(2){font-size:.9rem!important;line-height:1.6!important}.results-layout{display:flex!important;flex-direction:column!important;gap:16px!important}.chart-container{height:250px!important;margin-bottom:16px!important}table{font-size:.8rem!important}table th,table td{padding:8px 6px!important}.section-settings{padding:16px!important}.wizard-step-title{font-size:1.25rem!important}.btn-primary-large,.btn-ghost{padding:12px 20px!important;font-size:.9rem!important}.metrics-summary{grid-template-columns:repeat(2,1fr)!important;gap:12px!important}}@supports (padding: max(0px)){@media (max-width: 768px){.app-container{padding-left:max(12px,env(safe-area-inset-left));padding-right:max(12px,env(safe-area-inset-right));padding-bottom:max(20px,env(safe-area-inset-bottom))}.canvas-area{padding-top:env(safe-area-inset-top)!important}.wizard-actions{padding-bottom:max(16px,env(safe-area-inset-bottom))}.mobile-marking-controls{padding-left:max(8px,env(safe-area-inset-left));padding-right:max(8px,env(safe-area-inset-right))}}}@media (pointer: coarse){button,input[type=button],input[type=submit],.btn-primary-large,.btn-ghost{min-height:44px;touch-action:manipulation}input[type=range]{height:44px;cursor:pointer}input[type=range]::-webkit-slider-thumb{width:28px;height:28px}input[type=checkbox],input[type=radio]{width:24px;height:24px;margin:4px}select{min-height:44px;font-size:16px}input[type=text],input[type=number],input[type=email],textarea{font-size:16px;min-height:44px}}@media screen and (max-width: 768px){.app-header-new,header,[class*=header]:not(.mobile-header-ultimate){display:none!important;visibility:hidden!important;height:0!important;overflow:hidden!important;opacity:0!important;position:absolute!important;top:-9999px!important;left:-9999px!important;pointer-events:none!important;z-index:-1!important}.app-title-new,.app-subtitle-new,h1,h2,h3,[class*=title]:not(.mobile-header-ultimate *){display:none!important;font-size:0!important;height:0!important;overflow:hidden!important;line-height:0!important;margin:0!important;padding:0!important}.mobile-header-ultimate{display:flex!important;position:fixed!important;top:0!important;left:0!important;right:0!important;height:40px!important;background:#2d3748!important;z-index:999999!important}.app-container{margin-top:45px!important;padding-top:0!important}.wizard-main{margin-top:0!important;padding:10px!important}.marker-table,.marker-table-container,table{display:block!important;width:100%!important;max-width:100%!important;overflow-x:auto!important;overflow-y:visible!important;-webkit-overflow-scrolling:touch!important;position:relative!important;margin:0!important;padding:0!important}.marker-table table,table tbody,table thead{display:table!important;width:auto!important;min-width:600px!important;table-layout:fixed!important}.marker-table td,.marker-table th,td,th{padding:4px 6px!important;font-size:12px!important;white-space:nowrap!important;overflow:visible!important;position:relative!important;vertical-align:middle!important;box-sizing:border-box!important}.marker-table input,table input[type=number],table input[type=text],input[type=number]{width:45px!important;max-width:45px!important;min-width:45px!important;height:28px!important;padding:2px 4px!important;font-size:16px!important;border:1px solid #ccc!important;border-radius:3px!important;box-sizing:border-box!important;-webkit-appearance:none!important;margin:0!important;display:inline-block!important;vertical-align:middle!important}.marker-table tr,table tr{height:auto!important;min-height:36px!important}.marker-table td:first-child,table td:first-child,.marker-table th:first-child,table th:first-child{position:sticky!important;left:0!important;background:#fff!important;z-index:10!important;box-shadow:2px 0 5px #0000001a!important}button,.button,[type=button],[type=submit]{min-height:44px!important;min-width:44px!important;padding:10px 15px!important;font-size:14px!important;touch-action:manipulation!important;-webkit-tap-highlight-color:transparent!important}select{min-height:44px!important;font-size:16px!important;padding:10px 40px 10px 10px!important;width:100%!important;-webkit-appearance:none!important;-moz-appearance:none!important;appearance:none!important;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")!important;background-position:right 10px center!important;background-repeat:no-repeat!important;background-size:20px!important}textarea{font-size:16px!important;width:100%!important;padding:10px!important}.frame-controls,.frame-control-panel{position:fixed!important;bottom:0!important;left:0!important;right:0!important;background:#fff!important;border-top:1px solid #e0e0e0!important;padding:8px!important;box-shadow:0 -2px 10px #0000001a!important;z-index:100!important;display:flex!important;gap:5px!important;justify-content:center!important;flex-wrap:wrap!important}body{overflow-x:hidden!important;-webkit-text-size-adjust:100%!important;-webkit-font-smoothing:antialiased!important}.step-progress,.wizard-steps{display:flex!important;overflow-x:auto!important;-webkit-overflow-scrolling:touch!important;padding:10px!important;gap:10px!important}.modal,[class*=modal]{position:fixed!important;top:45px!important;left:5px!important;right:5px!important;bottom:5px!important;width:auto!important;margin:0!important;padding:10px!important;max-width:calc(100vw - 10px)!important;max-height:calc(100vh - 50px)!important;overflow-y:auto!important}.scroll-hint{position:fixed!important;bottom:60px!important;right:10px!important;background:#000000b3!important;color:#fff!important;padding:5px 10px!important;border-radius:15px!important;font-size:11px!important;pointer-events:none!important;z-index:1000!important;animation:pulse 2s infinite!important}@keyframes pulse{0%,to{opacity:.7}50%{opacity:1}}.marker-table-wrapper{position:relative!important;z-index:1!important}.canvas-area,canvas{max-width:100%!important;height:auto!important;display:block!important;margin:0 auto!important}.step-content,.wizard-content{padding:10px!important;margin:0!important;overflow-x:hidden!important;overflow-y:auto!important}}@media screen and (max-width: 768px){body *{max-width:100vw!important}body .app-header-new,body header,body [class*=header]:not(.mobile-header-ultimate){display:none!important}}@media screen and (max-width: 768px){.app-header-new,header{display:none!important;height:0!important;overflow:hidden!important}.app-title-new,.app-subtitle-new{display:none!important}.app-container{padding-top:45px!important}table{display:block!important;overflow-x:auto!important;-webkit-overflow-scrolling:touch!important}table input{width:45px!important;font-size:16px!important}button{min-height:44px!important;font-size:14px!important}}
